<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - EverRich Spend Manager</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="stylesheet" th:href="@{/css/branding-theme.css}">
</head>
<body class="branding-page">
    <div class="branding-wrapper">
        <div class="branding-card">
            <div class="branding-header">
                <div class="branding-logo">Ever<span class="brand-accent">Rich</span></div>
                <div class="branding-motto"><span class="motto-highlight">Cash Flow</span> and <span class="motto-highlight">Asset Management</span> for Individuals, Families and Small Businesses</div>
                <div class="branding-subtitle hide-mobile">Welcome back! Please sign in.</div>
            </div>
            <div class="mobile-form-section">
                <!-- Registration Complete Message -->
                <div th:if="${registrationComplete}" class="branding-alert alert-success">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                    Registration complete! You can now sign in.
                </div>
                <!-- Error Message -->
                <div th:if="${param.error}" class="branding-alert alert-danger">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>
                    Invalid email or password. If you recently registered, please check your email to complete the registration.
                </div>
                <!-- Logout Success Message -->
                <div th:if="${param.logout}" class="branding-alert alert-success">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                    Logged out successfully
                </div>
                <form th:action="@{/login}" method="post">
                    <div class="branding-input-group">
                        <input type="email" id="username" name="username" class="with-icon" placeholder="Email address" autofocus required>
                        <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
                    </div>
                    <div class="branding-input-group">
                        <input type="password" id="password" name="password" class="with-icon" placeholder="Password" required>
                        <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                    </div>
                    <div class="forgot-password-link">
                        <a th:href="@{/password-reset/forgot}" class="branding-link">Forgot password?</a>
                    </div>
                    <button type="submit" class="btn-primary">Sign In</button>
                </form>
                <div class="branding-divider"><span>or</span></div>
                <a th:href="@{/register}" class="btn-secondary">Register</a>
                <div class="branding-footer">Secure login powered by Spring Security</div>
            </div>
        </div>
    </div>
</body>
</html>